<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<title></title>
		<script type="text/javascript">
		//<![CDATA[
			//IEではバージョン8まで使えない・・・
			//色の指定として正しい範囲になっているかをチェックするコールバック関数
			function checkColor(element, index, array) {
				return (element >= 0 && element < 256);
			}
			
			//RGBの3つの要素が指定されているかをチェック
			function checkCount(element, index, array) {
				return (element.length == 3);
			}
			
			function testingCallbacks() {
				//色の配列
				var colors = new Array();
				colors[0] = [0, 262, 255];
				colors[1] = [255, 255, 255];
				colors[2] = [255, 0, 0];
				colors[3] = [0, 255, 0];
				colors[4] = [0, 0, 255];
				colors[5] = [-5, 999, 255];
				colors[6] = [255, 255, 1204556];
				colors[7] = [123, 45, 48, 48];
				colors[8] = [12, 34, 56];
				
				//第1ラウンド色の範囲のフィルタ
				var testedColors = new Array();
				for (var i in colors) {
					testedColors[i] = colors[i].filter(checkColor);
				}
				
				//第1ラウンドの結果を出力
				document.writeln("<h3>第1段階の生き残り</h3>");
				for (var i in testedColors) {
					document.writeln(testedColors[i] + "<br />");
				}
				
				//第2ラウンド値の個数のフィルタ
				var newTested = testedColors.filter(checkCount);
				
				document.writeln("<br /><h3>生き残った色</h3>");
				for (var i in newTested) {
					document.writeln(newTested[i] + "<br />");
				}
			}
			
			testingCallbacks();
		//]]>
		</script>
	</head>
	<body>
	</body>
</html>